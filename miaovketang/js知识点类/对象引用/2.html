<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<script>
    /*
    var obj = {
        a:10
    };
    var obj2 = obj;
    obj2.a = 20;
    alert(obj.a); //20
    */

    /*
    var obj = {
        a:10
    };
    function copy(obj){ //浅拷贝
        var newobj = {};
        for(var attr in obj){
            newobj[attr] = obj[attr];
        }
        return newobj;
    }
    var obj2 = copy(obj);
    obj2.a = 20;
    alert(obj.a); //10;
     */



    var obj = {
        a:{b:10}
    };

    /*
    function copy(obj){ //浅拷贝复制一层
        var newobj = {};
        for(var attr in obj){
            newobj[attr] = obj[attr];
        }
        return newobj;
    }

     var obj2 = copy(obj);
     obj2.a.b = 20;
     alert(obj.a.b); //20;
    */



    function deepcopy(obj){ //深拷贝
        if(typeof obj != 'object'){
            return obj;
        }
        var newobj = {};
        for(var attr in obj){
            newobj[attr] = deepcopy(obj[attr]);
        }
        return newobj;
    }

    var obj2 = deepcopy(obj);
    obj2.a.b = 20;
    alert(obj.a.b); //10;
</script>
</body>
</html>